<span data-ng-controller="GnSearchFormController">
  <div class="input-group">
    <div class="input-group-btn">
      <button class="btn btn-default" type="button" title="{{'add' | translate}}"
        data-ng-click="add();">
        <i class="fa fa-plus"/>
        <span>&nbsp;</span>
      </button>
      <button class="btn btn-default" type="button" data-toggle="modal"
        data-target="#gn-directory-entry-popup-{{elementRef}}">
        <i class="fa fa-book"/>
        <span data-translate="">addFromDictionnary</span>
      </button>
    </div>

    <!-- TODO: could be nice to filter by organisation -->
    <input type="text" class="form-control" placeholder="{{'searchAContact' | translate}}"
      data-ng-model="params.any" data-ng-change="triggerSearch('qi@json')"/>

    <div class="list-group gn-autocomplete-list">
      <li href="" class="list-group-item" data-ng-repeat="r in searchResults.records"> {{r.title}}
          <span class="pull-right">
          <!-- Display only if XLink enable -->
          <a href="" data-ng-click="addContact(r, null, true)" class="fa fa-link pull-right"
            data-ng-show="gnConfig[gnConfig.key.isXLinkEnabled]"
            title="{{'addContactAsLink-help' | translate}}"/>
          <a href="" data-ng-click="addContact(r)" class="fa fa-plus pull-right"
            title="{{'addContactAsText-help' | translate}}"/>
        </span>
      </li>
    </div>
    <!-- The contact to insert once received -->
    <div data-ng-if="snippet">
      <input name="{{snippetRef}}" type="hidden" value="{{snippet}}"/>
    </div>
  </div>

  <div data-gn-modal="" class="gn-directory-entry-popup"
    data-gn-popup-options="{title:('addFromDictionnary' | translate)}"
    id="gn-directory-entry-popup-{{elementRef}}">
    <div data-gn-directory-entry-multi-selector=""/>
  </div>

</span>
